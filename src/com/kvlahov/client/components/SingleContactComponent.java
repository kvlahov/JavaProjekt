/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package com.kvlahov.client.components;

import com.kvlahov.model.enums.ContactType;
import com.kvlahov.model.patientInfo.Contact;
import java.util.List;
import javax.swing.DefaultComboBoxModel;

/**
 *
 * @author lordo
 */
public class SingleContactComponent extends javax.swing.JPanel {

    private List<ContactType> contactTypes;
    private Contact contact;

    public SingleContactComponent(List<ContactType> contactTypes) {
        this.contactTypes = contactTypes;
        initComponents();
        initUI();

    }

    public Contact getContact() {
        contact.setType((ContactType) ddlContactType.getSelectedItem());
        contact.setContact(tfContact.getText().trim());
        return contact;
    }

    public void setContact(Contact contact) {
        this.contact = contact;
        updateContactUI();
    }

    
    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {
        java.awt.GridBagConstraints gridBagConstraints;

        ddlContactType = new javax.swing.JComboBox();
        tfContact = new javax.swing.JTextField();

        setLayout(new java.awt.GridBagLayout());

        ddlContactType.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Item 1", "Item 2", "Item 3", "Item 4" }));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.weighty = 0.1;
        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 10);
        add(ddlContactType, gridBagConstraints);

        tfContact.setColumns(20);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.weightx = 0.1;
        gridBagConstraints.insets = new java.awt.Insets(0, 0, 0, 5);
        add(tfContact, gridBagConstraints);
    }// </editor-fold>//GEN-END:initComponents


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JComboBox ddlContactType;
    private javax.swing.JTextField tfContact;
    // End of variables declaration//GEN-END:variables

    private void updateContactUI() {
        if(contact == null) return;
        ddlContactType.setSelectedItem(contact.getType());
        tfContact.setText(contact.getContact());
    }

    private void initUI() {
        ddlContactType.setModel(new DefaultComboBoxModel(contactTypes.toArray()));
    }
}
